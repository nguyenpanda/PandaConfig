{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"PandaConfig","text":"<p>PandaConfig is a dynamic configuration engine designed to transform static configuration files into executable code. Unlike traditional loaders, it supports variable resolution, function execution, and file inheritance directly within your configs.</p> <p>Now supporting both YAML and JSON, with an extensible architecture ready for future formats (like TOML, XML, or INI).</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Multi-Format Support: Works seamlessly with YAML (<code>.yaml</code>, <code>.yml</code>) and JSON (<code>.json</code>) out of the box.</li> <li>Dynamic Variables: Define values once and interpolate them anywhere (<code>url: \"http://$host:$port\"</code>).</li> <li>Function Execution: Run Python logic directly inside your config (<code>secret: \"$(get_env API_KEY)\"</code>).</li> <li>File Inheritance: Keep configs DRY (Don't Repeat Yourself) using the <code>extends</code> keyword.</li> <li>Extensible Architecture: Easily register custom functions or add support for new file formats without modifying the core library.</li> </ul>"},{"location":"#installation","title":"Installation","text":"<p>Install via pip or uv:</p> <pre><code># Using pip\npip install nguyenpanda-config\n\n# Using uv\nuv add nguyenpanda-config\n</code></pre>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#1-define-your-configuration","title":"1. Define Your Configuration","text":"<p>PandaConfig works identically across different formats. Choose the one you prefer.</p> <p>Option A: YAML (<code>config.yaml</code>)</p> <pre><code>extends: \"./base.yaml\"\n\nserver:\n  host: \"localhost\"\n  port: 8080\n  url: \"http://$server.host:$server.port/api\"     # Variable interpolation ($var)\n\nlogs:\n  path: \"$(path ./logs)/$(now).log\"                # Function execution ($(func arg))\n</code></pre> <p>Option B: JSON (<code>config.json</code>)</p> <pre><code>{\n  \"extends\": \"./base.json\",\n  \"server\": {\n    \"host\": \"localhost\",\n    \"port\": 8080,\n    \"url\": \"http://$server.host:$server.port/api\"\n  },\n  \"logs\": {\n    \"path\": \"$(path ./logs)/$(now).log\"\n  }\n}\n</code></pre>"},{"location":"#2-load-it-in-python","title":"2. Load it in Python","text":"<p>The <code>PandaConfig</code> class automatically detects the file type and parses it accordingly.</p> <pre><code>from PandaConfig import PandaConfig\n\n# Works for YAML\nagent_yaml = PandaConfig(\"config.yaml\")\nprint(agent_yaml.config['server']['url']) \n# Output: http://localhost:8080/api\n\n# Works for JSON\nagent_json = PandaConfig(\"config.json\")\nprint(agent_json.config['server']['url'])\n</code></pre>"},{"location":"#advanced-usage","title":"Advanced Usage","text":""},{"location":"#custom-functions","title":"Custom Functions","text":"<p>You can extend the logic available inside your configuration files by registering Python functions.</p> <pre><code>import os\nfrom PandaConfig import PandaConfig\n\n# 1. Initialize\nagent = PandaConfig(\"config.yaml\")\n\n# 2. Register a custom function\n@agent.registration(\"env\", 1)  # Name='env', Expected Args=1\ndef get_env_var(key):\n    return os.getenv(key, \"UNKNOWN\")\n\n# 3. Use it in YAML/JSON: \n# db_password: \"$(env DB_PASS)\"\n</code></pre>"},{"location":"#adding-new-file-formats-future-proofing","title":"Adding New File Formats (Future-Proofing)","text":"<p>PandaConfig is designed to be agnostic to the file format. You can register new parsers (e.g., TOML) dynamically.</p> <pre><code>import tomllib\nfrom PandaConfig import ConfigLoader\n\n# Register a parser for .toml files\nConfigLoader.register_parser('.toml', lambda path: tomllib.load(open(path, \"rb\")))\n\n# Now you can load TOML files!\nagent = PandaConfig(\"settings.toml\")\n</code></pre>"},{"location":"#built-in-functions","title":"Built-in Functions","text":"<p>PandaConfig comes with a suite of utility functions ready to use:</p> Function Args Description <code>path</code> 1 Convert string to a system-safe <code>Path</code> object <code>abspath</code> 1 Get the absolute path of a file/folder <code>glob</code> 2 <code>(dir pattern)</code> List matching files <code>rglob</code> 2 Recursive glob listing <code>find_ancestor</code> 2 <code>(path target)</code> Find parent dir containing a target file <code>now</code> 0 Get current timestamp <code>list</code> 1 Wrap an item in a list <code>[item]</code> <code>not</code> 1 Boolean negation"},{"location":"#advanced-usage_1","title":"Advanced Usage","text":""},{"location":"#registering-custom-file-types","title":"Registering Custom File Types","text":"<p>You can extend PandaConfig to support other file formats (like TOML, JSON, or XML) by registering a custom parser.</p> <p>Here is an example of how to register a TOML parser:</p> <pre><code>from PandaConfig import PandaConfig\nimport toml\nfrom pathlib import Path\nfrom typing import Any\n\n# 1. Define your parsing logic\ndef parse_toml(file_path: Path) -&gt; dict[str, Any]:\n    try:\n        with open(file_path, 'r', encoding='utf-8') as f:\n            return toml.load(f) or {}\n    except toml.TomlDecodeError as e:\n        raise ValueError(f'Invalid TOML in {file_path}: {e}')\n\n# 2. Register the parser for the .toml extension\nPandaConfig.register_parser('.toml', lambda path: parse_toml(path))\n\n# 3. Use PandaConfig with a .toml file\nagent = PandaConfig(\"./pyproject.toml\")\nprint(agent.yaml())\n</code></pre>"},{"location":"#development-testing","title":"Development &amp; Testing","text":"<p>We use <code>uv</code> for dependency management and <code>pytest</code> for testing. The test suite is dynamic and automatically picks up new test cases added to the <code>data/cases</code> directory.</p> <pre><code># Run all tests (YAML, JSON, etc.)\nuv run pytest\n</code></pre>"},{"location":"#author","title":"Author","text":"<ul> <li>Email: hatuongnguyen@0107gmail.com</li> <li>GitHub: nguyenpanda</li> <li>Website: nguyenpanda.com</li> </ul> <p>If you find this project useful, please consider giving it a \u2b50 on GitHub!</p>"},{"location":"#license","title":"License","text":"<p>This project is licensed under the MIT License.</p> <p>You are free to use, modify, and distribute this software, provided that the original copyright notice and permission notice are included in all copies or substantial portions of the software.</p> <p>See the LICENSE file for more details.</p>"},{"location":"docs/","title":"Development &amp; Documentation","text":"<p>This documentation is built using MkDocs. Since this project uses <code>uv</code> for dependency management, you should run the documentation commands using <code>uv run</code>.</p>"},{"location":"docs/#common-commands","title":"Common Commands","text":"<ul> <li>Serve documentation locally:</li> </ul> <pre><code>uv run --group docs mkdocs serve\n</code></pre> <ul> <li>Build the site (Static HTML):</li> </ul> <pre><code>uv run --group docs mkdocs build\n</code></pre> <ul> <li>Deploy to GitHub Pages:</li> </ul> <pre><code>uv run --group docs mkdocs gh-deploy\n</code></pre>"},{"location":"docs/#project-layout","title":"Project Layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # This homepage.\n    ...       # Add your tutorials and API references here.\n</code></pre>"},{"location":"publishing/","title":"Publishing Guide for NguyenPanda Config","text":"<p>This document outlines the steps to build and publish <code>nguyenpanda-config</code> to PyPI (Production) and TestPyPI (Staging).</p>"},{"location":"publishing/#prerequisites","title":"Prerequisites","text":"<p>Ensure you have the build and upload tools installed. Since we use <code>uv</code>, you can install them as dev dependencies or use <code>uvx</code> (tool execution).</p> <pre><code># Install twine locally\nuv add --dev twine build\n</code></pre>"},{"location":"publishing/#1-build-the-package","title":"1. Build the Package","text":"<p>Before uploading, clear previous builds and generate new distribution archives (<code>.tar.gz</code> and <code>.whl</code>).</p> <pre><code># Clean previous builds (Linux/Mac)\nrm -rf dist/\n\n# Build using the standard build module\nuv run python -m build\n</code></pre> <p>You should now see a <code>dist/</code> folder containing the artifacts.</p>"},{"location":"publishing/#2-publish-to-testpypi-staging","title":"2. Publish to TestPyPI (Staging)","text":"<p>It is highly recommended to upload to TestPyPI first to ensure everything renders correctly.</p>"},{"location":"publishing/#1-upload","title":"1. Upload:","text":"<pre><code>uv run twine upload --repository testpypi dist/*\n</code></pre> <ul> <li>Username: <code>__token__</code></li> <li>Password: Your TestPyPI API Token (starts with <code>pypi-</code>)</li> </ul>"},{"location":"publishing/#2-verify-installation","title":"2. Verify Installation:","text":"<p>Try installing the package in a fresh environment to ensure dependencies and imports work.</p> <pre><code># Create a temporary virtualenv\nuv venv test_env\nsource test_env/bin/activate\n\n# Install from TestPyPI\nuv pip install --index-url [https://test.pypi.org/simple/](https://test.pypi.org/simple/) --extra-index-url [https://pypi.org/simple/](https://pypi.org/simple/) nguyenpanda-config\n\n</code></pre>"},{"location":"publishing/#3-publish-to-pypi-production","title":"3. Publish to PyPI (Production)","text":"<p>Once the test release is verified:</p>"},{"location":"publishing/#1-upload_1","title":"1. Upload:","text":"<pre><code>uv run twine upload dist/*\n\n</code></pre> <ul> <li>Username: <code>__token__</code></li> <li>Password: Your real PyPI API Token (starts with <code>pypi-</code>)</li> </ul>"},{"location":"publishing/#2-verification","title":"2. Verification:","text":"<p>Wait a few minutes, then check the page at https://pypi.org/project/nguyenpanda-config/.</p>"},{"location":"publishing/#versioning-workflow","title":"Versioning Workflow","text":"<p>Remember to bump the version number in <code>pyproject.toml</code> (or your version source) before running the build command.</p> <ol> <li>Update version in <code>pyproject.toml</code>.</li> <li>Commit changes: <code>git commit -m \"Bump version to x.y.z\"</code>.</li> <li>Create a git tag: <code>git tag vx.y.z</code>.</li> <li>Run the build and upload steps above.</li> </ol>"}]}